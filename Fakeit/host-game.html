<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>페이커 게임 - 호스트</title>
    <link rel="stylesheet" href="host-game.css">
</head>
<body>
    <div class="container">
        <!-- 게임 헤더 -->
        <div class="game-header">
            <div class="game-info">
                <div class="game-number">게임 <span id="gameNumber">1</span></div>
                <div class="round-info">
                    <span>라운드</span>
                    <span class="round-number" id="roundNumber">1</span>
                    <span class="round-total" id="roundTotal">/4</span>
                </div>
            </div>
            <div class="game-title">👑 호스트 컨트롤</div>
            <div class="host-role-info">
                <span>내 역할: </span>
                <span class="host-role" id="hostRole">확인 중...</span>
            </div>
        </div>

        <!-- 게임 정보 표시 -->
        <div class="game-info-section">
            <div class="current-game-info">
                <span class="game-code-label">게임 코드: </span>
                <span class="game-code" id="gameCode">로딩 중...</span>
            </div>
        </div>

        <!-- 질문 섹션 -->
        <div class="question-section">
            <div class="question-header">
                <h2 class="question-title">📝 현재 질문</h2>
                <span class="question-mode" id="questionMode">입력형</span>
            </div>
            <div class="question-content">
                <div class="host-question">
                    <span class="question-label">내 질문:</span>
                    <div class="question-text" id="hostQuestion">질문을 불러오는 중...</div>
                </div>
                <div class="main-question" id="mainQuestionDiv" style="display: none;">
                    <span class="question-label">메인 질문:</span>
                    <div class="main-question-text" id="mainQuestion"></div>
                </div>
            </div>
        </div>

        <!-- 점수 관리 -->
        <div class="score-section">
            <h2 class="section-title">📊 점수 관리</h2>
            <div class="score-grid" id="scoreGrid">
                <!-- 플레이어들이 동적으로 추가됩니다 -->
            </div>
        </div>

        <!-- 투표 현황 -->
        <div class="voting-section">
            <h2 class="section-title">🗳️ 투표 현황</h2>
            <div class="voting-grid" id="votingGrid">
                <p class="no-votes">투표 현황이 없습니다.</p>
            </div>
        </div>

        <!-- 답변 입력 섹션 -->
        <div class="input-section">
            <h2 class="section-title">✏️ 답변 입력</h2>
            
            <!-- 텍스트 입력 (입력형, 플레이어선택형, 이모티콘형) -->
            <div class="text-input-container" id="textInputContainer">
                <input type="text" id="answerInput" placeholder="답변을 입력하세요..." class="answer-input">
            </div>

            <!-- 그림 입력 (그림형) -->
            <div class="drawing-container" id="drawingContainer" style="display: none;">
                <canvas id="drawingCanvas" width="400" height="300"></canvas>
                <div class="drawing-controls">
                    <div class="color-palette">
                        <button class="color-btn active" data-color="#000000" style="background: #000000;"></button>
                        <button class="color-btn" data-color="#ff0000" style="background: #ff0000;"></button>
                        <button class="color-btn" data-color="#00ff00" style="background: #00ff00;"></button>
                        <button class="color-btn" data-color="#0000ff" style="background: #0000ff;"></button>
                        <button class="color-btn" data-color="#ffff00" style="background: #ffff00;"></button>
                        <button class="color-btn" data-color="#ff00ff" style="background: #ff00ff;"></button>
                        <button class="color-btn" data-color="#00ffff" style="background: #00ffff;"></button>
                        <button class="color-btn" data-color="#ffffff" style="background: #ffffff; border: 1px solid #ccc;"></button>
                    </div>
                    <div class="drawing-tools">
                        <button id="clearCanvas" class="tool-btn">🗑️ 지우기</button>
                        <input type="range" id="brushSize" min="1" max="20" value="3" class="brush-slider">
                        <span class="brush-size-label">굵기: <span id="brushSizeValue">3</span></span>
                    </div>
                </div>
            </div>

            <!-- 제출 버튼 -->
            <button id="submitBtn" class="submit-btn">제출</button>
            
            <!-- 답변 상태 -->
            <div class="answer-status" id="answerStatus" style="display: none;">
                <p class="submitted-answer">제출된 답변: <span id="submittedText"></span></p>
                <canvas id="submittedDrawing" style="display: none;" width="300" height="200"></canvas>
                <p class="answer-locked">⚠️ 답변이 제출되어 수정할 수 없습니다.</p>
            </div>
        </div>

        <!-- 컨트롤 섹션 -->
        <div class="control-section">
            <div class="control-row">
                <button id="faker-give-up-btn" class="control-btn faker-give-up-btn">
                    🏳️ 페이커 포기
                </button>
                <button id="next-round-btn" class="control-btn next-round-btn">
                    ➡️ 다음 라운드
                </button>
            </div>
            <div class="control-row">
                <button id="next-game-btn" class="control-btn next-game-btn">
                    🎲 다음 게임
                </button>
                <button id="reveal-faker-btn" class="control-btn reveal-faker-btn">
                    🎭 페이커 공개 (비상용)
                </button>
            </div>
            <div class="control-row">
                <button id="end-game-btn" class="control-btn end-game-btn">
                    🏆 게임 종료
                </button>
            </div>
        </div>
    </div>

    <!-- 페이커 포기 확인 모달 -->
    <div id="giveUpModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3 class="modal-title">🏳️ 페이커 포기</h3>
            <p class="modal-message">페이커가 포기했나요?</p>
            <div class="modal-buttons">
                <button id="cancelGiveUp" class="modal-btn cancel-btn">취소</button>
                <button id="confirmGiveUp" class="modal-btn confirm-btn">확인</button>
            </div>
        </div>
    </div>

    <!-- 페이커 공개 첫 번째 확인 모달 -->
    <div id="revealModal1" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3 class="modal-title">⚠️ 페이커 공개 (1차 확인)</h3>
            <p class="modal-message">정말로 페이커를 공개하시겠습니까?<br><strong>이 작업은 비상용입니다!</strong></p>
            <div class="modal-buttons">
                <button id="cancelReveal1" class="modal-btn cancel-btn">취소</button>
                <button id="confirmReveal1" class="modal-btn confirm-btn">확인</button>
            </div>
        </div>
    </div>

    <!-- 페이커 공개 두 번째 확인 모달 -->
    <div id="revealModal2" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3 class="modal-title">🚨 페이커 공개 (최종 확인)</h3>
            <p class="modal-message">정말로 확실하시나요?<br><strong>페이커가 공개되면 게임이 망가질 수 있습니다!</strong></p>
            <div class="modal-buttons">
                <button id="cancelReveal2" class="modal-btn cancel-btn">취소</button>
                <button id="confirmReveal2" class="modal-btn danger-btn">공개하기</button>
            </div>
        </div>
    </div>

    <!-- 플레이어 정보 공개 모달 -->
    <div id="playerInfoModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3 class="modal-title">👥 모든 플레이어 정보</h3>
            <div id="playerInfoList" class="player-info-list">
                <!-- 플레이어 정보가 동적으로 추가됩니다 -->
            </div>
            <div class="modal-buttons">
                <button id="closePlayerInfo" class="modal-btn confirm-btn">확인</button>
            </div>
        </div>
    </div>

    <!-- 게임 종료 모달 -->
    <div id="endGameModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3 class="modal-title">🏆 게임 종료</h3>
            <div class="final-scores" id="finalScores">
                <!-- 최종 점수가 표시됩니다 -->
            </div>
            <div class="modal-buttons">
                <button id="restartBtn" class="modal-btn restart-btn">🔄 다시 시작</button>
                <button id="homeBtn" class="modal-btn home-btn">🏠 홈으로</button>
            </div>
        </div>
    </div>

    <!-- 게임 데이터와 질문 시스템 로드 -->
    <script src="gameData.js"></script>
    <script src="questions.js"></script>
    <script src="host-game.js"></script>
</body>
</html>
