modify the code to go to card-role everytime the new game starts(becusae the role could change)

this is the join.js code(that already works)

// ê²Œì„ ì°¸ì—¬
function joinGame() {
    if (!isCodeComplete()) {
        showError('4ìë¦¬ ì½”ë“œë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
    }
    
    const code = getEnteredCode();
    const validation = validateCode(code);
    if (!validation.valid) {
        showError(validation.message);
        return;
    }
    
    const gameInfo = validation.gameInfo;
    const selectedPlayer = currentPlayerIndex;
    const playerValidation = validatePlayerNumber(selectedPlayer, gameInfo.totalPlayers);
    if (!playerValidation.valid) {
        showError(playerValidation.message);
        return;
    }
    
    console.log('ê²Œì„ ì°¸ì—¬ ê²€ì¦ ì™„ë£Œ:', {
        code: validation.code,
        selectedPlayer: selectedPlayer,
        gameInfo: gameInfo,
        validRange: `1~${gameInfo.totalPlayers - 1}`
    });
    
    showSuccess(`í”Œë ˆì´ì–´ ${selectedPlayer}ë²ˆìœ¼ë¡œ ì°¸ì—¬ ì¤€ë¹„ ì™„ë£Œ!`);
    document.body.classList.add('loading');
    joinBtn.textContent = 'ì°¸ì—¬ ì¤‘...';
    
    setTimeout(() => {
        try {
            const playerData = {
                playerCode: validation.code,
                totalPlayers: gameInfo.totalPlayers,
                fakerCount: gameInfo.fakerCount,
                gameNumber: 1,
                playerIndex: currentPlayerIndex,
                currentRound: 1
            };
            
            console.log('ê²Œì„ ì°¸ì—¬ ì™„ë£Œ:', playerData);
            
            // localStorageì— í”Œë ˆì´ì–´ ë°ì´í„° ì €ì¥
            // ê°œë³„ í‚¤ë¡œ ì €ì¥í•˜ë„ë¡ ë³€ê²½
            localStorage.setItem('totalPlayers', gameInfo.totalPlayers);
            localStorage.setItem('fakerCount', gameInfo.fakerCount);
            localStorage.setItem('playerIndex', currentPlayerIndex);
            localStorage.setItem('inviteCode', validation.code);
            localStorage.setItem('gameNumber', 1);
            localStorage.setItem('currentRound', 1);
            
            // card-role.htmlì„ ê±°ì³ player-game.htmlë¡œ ì´ë™
            window.location.href = 'card-role.html?next=player-game.html';
            
        } catch (error) {
            console.error('ê²Œì„ ì°¸ì—¬ ì¤‘ ì˜¤ë¥˜:', error);
            document.body.classList.remove('loading');
            joinBtn.textContent = 'ğŸ® ê²Œì„ ì°¸ì—¬í•˜ê¸°';
            showError('ê²Œì„ ì°¸ì—¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
        }
    }, 1000);
}

// ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™
function goToNextPage() {
    // ì—­í•  ì •ë³´ë¥¼ localStorageì— ì €ì¥
    localStorage.setItem('playerRole', playerRole);
    localStorage.setItem('roleRevealed', 'true');
    
    console.log('ë‹¤ìŒ í˜ì´ì§€ ì´ë™:', nextPage, 'ì—­í• :', playerRole);
    
    // ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™
    window.location.href = nextPage;
}



code from host-game


function confirmNextGame() {
    currentGame++;
    currentRound = 1;
    resetRoundState();
    updateGameInfo();
    updatePlayerRole();
    showQuestion();
    localStorage.setItem('currentGame', currentGame.toString());
    localStorage.setItem('currentRound', currentRound.toString());
    console.log('âœ… ë‹¤ìŒ ê²Œì„ìœ¼ë¡œ ì§„í–‰ (í˜¸ìŠ¤íŠ¸):', currentGame);
    console.log('âœ… ì´ë™ ì „ ë°ì´í„° ì €ì¥ ì™„ë£Œ:', {
        currentGame,
        currentRound
    });
    window.scrollTo(0, 0); // Scroll to top of the page
    closeModal('nextGameModal');
}




code from player-game

function confirmNextGame() {
    //player-game.js
    currentGame++;
    currentRound = 1;
    resetRoundState();
    updateGameInfo();
    updatePlayerRole();
    showQuestion();
    localStorage.setItem('currentGame', currentGame.toString());
    localStorage.setItem('currentRound', currentRound.toString());
    console.log('âœ… ë‹¤ìŒ ê²Œì„ìœ¼ë¡œ ì§„í–‰ (í”Œë ˆì´ì–´):', currentGame);
    console.log('âœ… ì´ë™ ì „ ë°ì´í„° ì €ì¥ ì™„ë£Œ:', {
        currentGame,
        currentRound
    });
    closeModal('nextGameModal');
    window.scrollTo(0, 0); // Scroll to top of the page
    console.log('âœ… í™”ë©´ì„ ë§¨ ìœ„ë¡œ ìŠ¤í¬ë¡¤');
}


a part of gameover.js code:



// ë‹¤ìŒ ê²Œì„ ì‹œì‘
function startNextGame() {
    console.log('ë‹¤ìŒ ê²Œì„ ì‹œì‘ ì‹œë„ ì¤‘...');
    
    const preservedData = {
        playerScores: localStorage.getItem('playerScores'),
        inviteCode: inviteCode,
        totalPlayers: totalPlayers.toString()
    };
    
    localStorage.removeItem('currentRound');
    localStorage.removeItem('submittedAnswer');
    localStorage.removeItem('submittedDrawing');
    localStorage.removeItem('answerType');
    localStorage.removeItem('answerSubmitted');
 digitaleStorage.removeItem('hostAnswer');
    localStorage.removeItem('hostDrawing');
    
    Object.entries(preservedData).forEach(([key, value]) => {
        if (value) localStorage.setItem(key, value);
    });
    
    const nextGame = currentGame + 1;
    localStorage.setItem('currentGame', nextGame.toString());
    localStorage.setItem('currentRound', '1');
    
    console.log('âœ… ë‹¤ìŒ ê²Œì„ ë°ì´í„° ì €ì¥ ì™„ë£Œ:', {
        currentGame: nextGame,
        currentRound: 1,
        preservedScores: preservedData.playerScores
    });
    
    redirectToGamePage();
}

// í™ˆìœ¼ë¡œ ì´ë™
function goHome() {
    console.log('í™ˆìœ¼ë¡œ ì´ë™ ì‹œë„ ì¤‘...');
    window.location.href = 'index.html';
}

// ê²Œì„ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
function redirectToGamePage() {
    console.log('ê²Œì„ í˜ì´ì§€ë¡œ ì´ë™ ì‹œë„ ì¤‘...');
    localStorage.setItem('playerIndex', playerIndex.toString());
    console.log('âœ… ì´ë™ ì „ ë°ì´í„° ì €ì¥ ì™„ë£Œ:', { playerIndex });
    
    if (playerIndex === 0) {
        console.log('âœ… í˜¸ìŠ¤íŠ¸ë¡œ ì´ë™: host-game.html');
        window.location.href = 'host-game.html';
    } else {
        console.log(`âœ… í”Œë ˆì´ì–´ ${playerIndex}ë¡œ ì´ë™: player-game.html`);
        window.location.href = 'player-game.html';
    }
}



a part of code from answer.js




// ë‹¤ìŒ ê²Œì„
function nextGame() {
    console.log('ë‹¤ìŒ ê²Œì„ ìš”ì²­');
    
    if (currentGame === 4) {
        // ê²Œì„ ì¢…ë£Œ ë²„íŠ¼ ê°•ì¡° íš¨ê³¼ ì¶”ê°€
        const endGameBtn = document.getElementById('endGameBtn');
        endGameBtn.classList.add('highlight-button');
        return; // ê²Œì„ ì¦ê°€ë§Œ í•˜ê³  ë¦¬í„´
    }
    else{
        openModal('nextGameModal');
    }
}

function confirmNextGame() {
    console.log('ë‹¤ìŒ ê²Œì„ í™•ì •');
    closeModal('nextGameModal');
    saveVotes();

    // í”Œë ˆì´ì–´ ë‹µë³€ ë°ì´í„° ì´ˆê¸°í™”
    clearPlayerAnswerData();

    // ê²Œì„ ì—…ë°ì´íŠ¸
    currentGame++;
    currentRound = 1;
    localStorage.setItem('currentGame', currentGame.toString());
    localStorage.setItem('currentRound', '1');
    localStorage.setItem('votes', JSON.stringify(votes));
    
    // ì›ë˜ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°
    goBack();
}